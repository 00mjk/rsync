NEWS for rsync 2.6.4 (UNRELEASED)
Protocol: 28 (unchanged)
Changes since 2.6.3:

  BUG FIXES:

    - Restore the list-clearing behavior of "!" in a .cvsignore file (2.6.3
      was only treating it as a special token in an rsync include/exclude
      file).

    - Avoid a mkdir warning when removing a directory in the destination
      that already exists in the --backup-dir.

    - An OS that has a binary mode for its files (such as cygwin0 needed
      setmode(fd, O_BINARY) called on the temp-file we opened with
      mkstemp().  (Fix picked up from the cygwin package.)

    - Fixed a potential hang when verbosity is high, the client side is
      the sender, and the file-list is large.

    - We now check if the OS doesn't support using mknod() for creating
      FIFOs and sockets, and compile-in using mkfifo() and socket() when
      necessary.

    - Fixed an off-by-one error in the handling of --max-delete=N.

    - One place in the code wasn't checking if fork() failed.

    - The "ignore nonreadable" daemon parameter no longer affects symlinks
      that are being copied, even if they point nowhere.

    - If the OS does not have lchown() and its chown() tries to set the
      referent of a symlink (as it should), we no longer try to set the
      user and group of a symlink.

  ENHANCEMENTS:

    - Rsync now supports popt's option aliases, which means that you can
      use /etc/popt and/or ~/.popt to create your own option aliases.

    - Added the --copy-dest option, which works like --link-dest except
      that it includes copies of identical files.

    - Added support for specifying multiple --compare-dest, --copy-dest, or
      --link-dest options, but only of a single type. (Promoted from the
      patches dir and enhanced.)

    - Added the --max-size option. (Promoted from the patches dir.)

    - The daemon-mode options were separated from the normal rsync options
      so that they can't be mixed together.  This makes it impossible to
      start a daemon that had improper default option values that could
      cause problems (such as a hang or an abort) when a client connects.

    - The --bwlimit option may now be used in combination with --daemon
      to specify a default value for the daemon side and also a value
      that cannot be exceeded by a user-specified --bwlimit option.

    - Added the "port" parameter to the rsyncd.conf file. (Promoted from
      the patches dir.)

    - In _exit_cleanup(): when we are exiting with a partially-received
      file, we now flush any data in the write-cache before closing the
      partial file.

    - Added support/atomic-rsync -- a perl script that will transfer some
      files using rsync, and then move the updated files into place all at
      once at the end of the transfer.  Only works when pulling, and uses
      --link-dest.

  BUILD CHANGES:

    - Handle an operating system that use mkdev() in place of makedev().
