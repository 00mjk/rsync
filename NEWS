NEWS for rsync 2.6.5 (UNRELEASED)
Protocol: 29 (unchanged)
Changes since 2.6.4:

  BUG FIXES:

    - A crash bug was fixed when a daemon had its "path" set to "/", did
      not have chroot enabled, and used some anchored excludes in the
      rsyncd.conf file.

    - Fixed a case where the generator might try to tweak the write
      permissions of a read-only directory in list-only mode.

    - If --compare-dest or --link-dest uses a locally-copied file as the
      basis for an updated version, log this better when --verbose or -i
      is in effect.

    - Fixed the accidental disabling of --backup during the --delete-after
      processing.

    - Restored the ability to use the --address option in client mode (in
      addition to its use in daemon mode).

    - Make sure that some temporary progress information from the delete
      processing does not get left on the screen when it is followed by a
      newline.

    - When --existing skips a directory with extra verbosity, don't refer
      to it as a "file".

  ENHANCEMENTS:

    - Added the --only-write-batch=FILE option that may be used (instead
      of --write-batch=FILE) to create a batch file without doing any
      actual updating of the destination.

    - Changed the outputting of "safe" filenames to use backslash-escaped
      characters rather than '?'s.  Any non-printable character is output
      using octal (e.g. "\n" -> "\012"), and backslash is output as "\\".

    - Improved the auth-errors that are logged by the daemon to include
      some information on why the authorization failed (wrong user,
      password mismatch, etc.).  (The client-visible message is unchanged.)

    - Improved the client's handling of an "@ERROR" from a daemon so that
      it does not complain about an unexpectedly closed socket (since we
      really did expect the socket to close).

  INTERNAL:

    - Rsync now calls setlocale(LC_CTYPE, "").

  BUILD CHANGES:

    - Fixed a bug in the SUPPORT{,_HARD}_LINKS defines which prevented
      rsync from being built without symlink or hard-link support.

    - You can use --disable-locale to turn off any use of setlocale().

    - Configure now disables the use of mkstemp() under HP-UX (since they
      refuse to fix its broken handling of large files).

    - Configure now explicitly checks for the lseek64() function so that
      the code can use HAVE_LSEEK64 instead of inferring lseek64()'s
      presence based on the presence of the off64_t type.
