NEWS for rsync version 2.6.0
Protocol: 27 (changed)
Changes since version 2.5.7:

  ENHANCEMENTS:

    * "ssh" is now the default remote shell for rsync.  If you want to
      change this, configure like this:  "./configure --with-rsh=rsh".

    * Added --files-from, --no-relative, --no-implied-dirs, and --from0.
      Note that --from0 affects the line-ending character for all the
      files read by the --*-from options. (Wayne Davison)

    * Length of csum2 is now per-file starting with protocol verison
      27. (J.W. Schultz)

    * Per-file dynamic block size is now sqrt(file length).
      The per-file checksum size is determined according
      to an algorythm provided by Donovan Baarda which
      reduces the probability of rsync algorithm
      corrupting data and falling back using the whole md4
      checksums. (J.W. Schultz, Donovan Baarda)

    * The --stats option no longer includes the (debug) malloc summary
      unless the verbose option was specified at least twice.

    * Added a new error/warning code for when files vanish from the
      sending side.  Made vanished source files not interfere with the
      file-deletion pass when --delete-after was specified.

  BUG FIXES:

    * Fixed several exclude/include matching bugs when using wild-cards.
      This has a several user-visible effects, all of which make the
      matching more consistent and intuitive.  This should hopefully not
      cause anyone problems since it makes the matching work more like
      what people are expecting. (Wayne Davison)

      - A pattern with a "**" no longer causes a "*" to match slashes.
        For example, with "/*/foo/**", "foo" must be 2 levels deep.

      - "**/foo" now matches at the base of the transfer (i.e. /foo).

      - An non-anchored wildcard term floats to match beyond the base of
        the transfer.  E.g. "CVS/R*" matches at the end of the path,
        just like the non-wildcard term "CVS/Root" does.

      - Including a "**" in the match term causes it to be matched
        against the entire path, not just the name portion, even if
        there aren't any interior slashes in the term.  E.g. "foo**bar"
        would exclude "/path/foo-bar" (just like before) as well as
        "/foo-path/baz-bar" (for instance).

    * The exclude list specified in the daemon's config file is now
      properly applied to the pulled items no matter how deep the
      user's file-args are in the source tree.  (Wayne Davison)

    * For protocol version >= 27, mdfour_tail() is called when the
      block size (including checksum_seed) is a multiple of 64.
      Previously it was not called, giving the wrong MD4 checksum.
      (Craig Barratt)
  
    * For protocol version >= 27, a 64 bit bit counter is used in
      mdfour.c as required by the RFC.  Previously only a 32 bit bit
      counter was used, causing incorrect MD4 file checksums for
      file sizes >= 512MB - 4.  (Craig Barratt)

    * Fixed a crash bug when interacting with older rsync versions and
      multiple files of the same name are destined for the same dir.
      (Wayne Davison)

    * Keep tmp names from overflowing MAXPATHLEN.

    * Make --link-dest honor the absence of -p, -o, and -g.

    * Made rsync treat a trailing slash in the destination in a more
      consistent manner.

    * Fixed file I/O error detection.  (John Van Essen)

    * Fixed a compression (-z) bug when syncing a mostly-matching file
      that contains already-compressed data.  (Yasuoka Masahiko and
      Wayne Davison)

    * Fixed a bug in the --backup code that could cause deleted files
      to not get backed up.

    * Call setgroups() in a more portable manner.

    * Improved file-related error messages to better indicate exactly
      what pathname failed. (Wayne Davison)

    * Fixed some bugs in the handling of --delete and --exclude when
      using the --relative (-R) option. (Wayne Davison)

    * Fixed bug that prevented regular files from replacing
      special files and caused a directory in --link-dest or
      --compare-dest to block the creation of a file with the
      same path.  A directory still cannot be replaced by a
      regular file unless --delete specified.  (J.W. Schultz)

    * Detect and report when open or opendir succeed but read and
      readdir fail caused by network filesystems issues and truncated
      files.  (David Norwood, Michael Brown, J.W. Schultz)

    * Added a fix that should give ssh time to restore the tty settings
      if the user presses Ctrl-C at an ssh password prompt.

  INTERNAL:

    * Eliminated vestigial support for old versions that we stopped
      supporting. (J.W. Schultz)

    * Simplified some of the option-parsing code. (Wayne Davison)

    * Some cleanup made to the exclude code, as well as some new
      defines added to enhance readability. (Wayne Davison)

    * Changed the protocol-version code so that it can interact at a
      lower protocol level than the maximum supported by both sides.
      Added an undocumented option, --protocol=N, to force the value
      we advertise to the other side (primarily for testing purposes).
      (Wayne Davison)


NEWS for rsync version 2.5.7:
Protocol: 26 (unchanged)
Changes since version 2.5.6:

  SECURITY:

    * Fix buffer handling bugs.  (Andrew Tridgell, Martin Pool, Paul
      Russell, Andrea Barisani)


NEWS for rsync version 2.5.6, aka the dwd-between-jobs release
Protocol: 26 (unchanged)
Changes since version 2.5.5:

  ENHANCEMENTS:

    * The --delete-after option now implies --delete.  (Wayne Davison)

    * The --suffix option can now be used with --backup-dir.  (Michael
      Zimmerman)

    * Combining "::" syntax with the -rsh/-e option now uses the
      specified remote-shell as a transport to talk to a (newly-spawned)
      server-daemon.  This allows someone to use daemon features, such
      as modules, over a secure protocol, such as ssh.  (JD Paul)

    * The rsync:// syntax for daemon connections is now accepted in the
      destination field.

    * If the file name given to --include-from or --exclude-from is "-",
      rsync will read from standard input.  (J.W. Schultz)

    * New option --link-dest which is like --compare-dest except that
      unchanged files are hard-linked in to the destination directory.
      (J.W. Schultz)

    * Don't report an error if an excluded file disappears during an
      rsync run.  (Eugene Chupriyanov and Bo Kersey)

    * Added .svn to --cvs-exclude list to support subversion.  (Jon
      Middleton)

    * Properly support IPv6 addresses in the rsyncd.conf "hosts allow"
      and "hosts deny" fields.  (Hideaki Yoshifuji)

    * Changed exclude file handling to permit DOS or MAC style line
      terminations.  (J.W. Schultz)

    * Ignore errors from chmod when -p/-a/--preserve-perms is not set.
      (Dave Dykstra)

  BUG FIXES:

    * Fix "forward name lookup failed" errors on AIX 4.3.3.  (John
      L. Allen, Martin Pool)

    * Generate each file's rolling-checksum data as we send it, not
      in a separate (memory-eating) pass before hand.  This prevents
      timeout errors on really large files. (Stefan Nehlsen)

    * Fix compilation on Tru64.  (Albert Chin, Zoong Pham)

    * Better handling of some client-server errors.  (Martin Pool)

    * Fixed a crash that would occur when sending a list of files that
      contains a duplicate name (if it sorts to the end of the file
      list) and using --delete.  (Wayne Davison)

    * Fixed the file-name duplicate-removal code when dealing with multiple
      dups in a row. (Wayne Davison)

    * Fixed a bug that caused rsync to lose the exit status of its child
      processes and sometimes return an exit code of 0 instead of showing
      an error.  (David R. Staples, Dave Dykstra)

    * Fixed bug in --copy-unsafe-links that caused it to be completely
      broken.  (Dave Dykstra)

    * Prevent infinite recursion in cleanup code under certain circumstances.
      (Sviatoslav Sviridov and Marc Espie)

    * Fixed a bug that prevented rsync from creating intervening directories
      when --relative-paths/-R is set.  (Craig Barratt)

    * Prevent "Connection reset by peer" messages from Cygwin. (Randy O'Meara)

  INTERNAL:

    * Many code cleanups and improved internal documentation.  (Martin
      Pool, Nelson Beebe)

    * Portability fixes. (Dave Dykstra and Wayne Davison)

    * More test cases.  (Martin Pool)

    * Some test-case fixes.  (Brian Poole, Wayne Davison)

    * Updated included popt to the latest vendor drop, version 1.6.4.
      (Jos Backus)

    * Updated config.guess and config.sub to latest versions; this
      means rsync should build on more platforms.  (Paul Green)
