NEWS for rsync 2.6.7 (UNRELEASED)
Protocol: 29 (unchanged)
Changes since 2.6.6:

  BUG FIXES:

    - Made hard-links work with symlinks and devices again.

    - If a device-file/special-file changes permissions, rsync now updates the
      permissions without recreating the file.

    - If the user specifies a remote-host for both the source and destination,
      we now output a syntax error rather than trying to open the destination
      hostspec as a filename.

    - When --inplace creates a new destination file, rsync now creates it with
      permissions 0600 instead of 0000 -- this makes restarting possible when
      the transfer gets interrupted in the middle of sending a new file.

    - Reject the combination of --inplace and --sparse since the sparse-output
      algorithm doesn't work when overwriting existing data.

    - Fixed the directory name in the error that is output when pop_dir()
      fails.

  ENHANCEMENTS:

    - Added the --append option that makes rsync append data onto files
      that are longer on the source than the destination (this includes new
      files).

    - If lutimes() and/or lchmod() are around, use them to allow the
      preservation of attributes on symlinks.

    - Added two config items to the rsyncd.conf parsing:  "pre-xfer exec"
      and "post-xfer exec".  These allow a command to be specified on a
      per-module basis that will be run before and/or after a daemon-mode
      transfer. 

    - When using the --relative option, you can now insert a dot dir in
      the source path to indicate where the replication of the source dirs
      should start.  For example, if you specify a source path of
      rsync://host/module/foo/bar/./baz/dir with -R, rsync would only
      replicate the "baz/dir" part of the source path (note: a trailing
      dot dir is unaffected unless it also has a trailing slash).

    - Added some new --no-FOO options that make it easier to override
      unwanted implied or default options.  For example, "-a --no-o" (aka
      "--archive --no-owner") can be used to turn off the preservation of
      file ownership that is implied by -a.

    - Allow the --temp-dir option to be specified when starting a daemon,
      which sets the default temporary directory for incoming files.

  INTERNAL:

    - Some buffer sizes were expanded a bit, particularly on systems where
      MAXPATHLEN is overly small (e.g. cygwin).

    - If io_printf() tries to format more data than fits in the buffer, exit
      with an error instead of transmitting a truncated buffer.
